<html>
<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
      function cb(selection) {
          $.getJSON({
              url: "/callback", data: { 'data': selection }, success: function (result) {
                  Plotly.newPlot('chart', result, {staticPlot: true});;
              }
          });
      }
  </script>
</head>

<body style="font-family:arial, sans-serif">
  <h1>Football Stats</h1>
  <h2>Choose your league</h2>
  <p>Make sure you spell it correctly, available leagues : 'ligue1', 'premiereleague', 'bundesliga', 'laliga', 'seria', 'championsleague', 'europaleague'</p>

  <input list="browsers" type="text" id="fname" name="fname" onchange="cb(this.value)">
    <datalist id="browsers">
      <option value="ligue1">
      <option value="laliga">
      <option value="bundesliga">
      <option value="seria">
      <option value="championsleague">
      <option value="europaleague"></option>
    </datalist>
  <a href = "javascript:;" onclick = "this.href='/getPlotCSV/' + document.getElementById('fname').value">Click here to download csv file.</a>

  <div id="chart" class="chart"></div>
</body>

<script>
  d = {{ graphJSON | safe }};
  //d.config={staticPlot: true};
  Plotly.newPlot('chart', d, {});
  
</script>
</html>